<PrinterSettingWindow>:
    name: 'printer_setting_page'

    side_sel_grid: side_sel_grid
    text_in_grid: text_in_grid

    GridLayout:
        cols: 1
        canvas.before:
            Color:
                rgba: (44/255, 112/255, 222/255, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        GridLayout:
            size_hint_y: 0.1
            cols: 3
            padding: 3
            Image:
                size_hint_x: 0.1
                source: 'pageStyle/icon_2/logo-2.png'
            Label:
                text: 'Welcome'
                font_name: 'nirmalab.ttf'
                font_size: self.height * 0.5
            Button:
                size_hint_x: 0.1
                id: header_logout_button
                background_normal: ''
                background_color: (44/255, 112/255, 222/255, 1)
                on_release:
                    root.manager.transition.direction = "left"
                    app.root.current = "login_page"
                    root.manager.transition.direction = "right"
                    root.manager.page_focus()
                Image:
                    source: 'pageStyle/icon_2/logout.png'
                    y: self.parent.y + self.parent.height/20
                    x: self.parent.x + self.parent.width/20 + self.parent.width * 0.1
                    size: self.parent.width * 0.8, self.parent.height * 0.8

        GridLayout:
            cols: 2
            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: self.size
                    pos: self.pos

            SelectableGrid:
                id: side_sel_grid
                focus: False
                cols: 1
                size_hint_x: 0.2
                padding: 5
                Button:
                    id: profile_setting_button
                    font_name: "nirmala.ttf"
                    text: "Company Info"
                    font_size: self.height * 0.18
                    on_release:
                        root.manager.transition.direction = "left"
                        app.root.current = "profile_setting_page"
                        root.manager.transition.direction = "right"
                        root.manager.page_focus()
                        root.manager.get_screen('profile_setting_page').ids.side_sel_grid.select_node(root.manager.get_screen('profile_setting_page').ids.side_sel_grid.get_selectable_nodes()[3])
                    Image:
                        source: 'pageStyle/icon_2/profile.png'
                        y: self.parent.y - 10
                        x: self.parent.x + self.parent.width/2 -40
                        size: 120, 120
                Button:
                    id: printer_setting_button
                    font_name: "nirmala.ttf"
                    text: "Print Setting"
                    font_size: self.height * 0.18
                    on_release:
                        root.manager.transition.direction = "left"
                        app.root.current = "printer_setting_page"
                        root.manager.transition.direction = "right"
                        root.manager.page_focus()
                        root.manager.get_screen('printer_setting_page').ids.side_sel_grid.select_node(root.manager.get_screen('printer_setting_page').ids.side_sel_grid.get_selectable_nodes()[2])
                    Image:
                        source: 'pageStyle/icon_2/printer-1.png'
                        y: self.parent.y - 10
                        x: self.parent.x + self.parent.width/2 -40
                        size: 120, 120
                Button:
                    id: st_weight_cancel_button
                    font_name: "nirmala.ttf"
                    text: "Advance"
                    font_size: self.height * 0.18
                    on_release:
                        root.manager.transition.direction = "left"
                        app.root.current = "advance_setting_page"
                        root.manager.transition.direction = "right"
                        root.manager.page_focus()
                        root.manager.get_screen('advance_setting_page').ids.side_sel_grid.select_node(root.manager.get_screen('advance_setting_page').ids.side_sel_grid.get_selectable_nodes()[1])
                    Image:
                        source: 'pageStyle/icon_2/advance.png'
                        y: self.parent.y - 10
                        x: self.parent.x + self.parent.width/2 -40
                        size: 120, 120
                Button:
                    id: st_pg_back_button
                    font_name: "nirmala.ttf"
                    text: "Back"
                    font_size: self.height * 0.18
                    on_release:
                        root.manager.transition.direction = "left"
                        app.root.current = "main_page"
                        root.manager.transition.direction = "right"
                        root.manager.page_focus()
                    Image:
                        source: 'pageStyle/icon_2/back.png'
                        y: self.parent.y - 10
                        x: self.parent.x + self.parent.width/2 -40
                        size: 120, 120

            GridLayout:
                cols: 1
                padding: 20
                spacing: 5
                Label:
                    text: 'Printer Setting'
                    font_name: 'nirmala.ttf'
                    font_size: self.height * 0.7
                    color: 0, 0, 0, 1
                    size_hint_y:0.1
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 0.5
                        Rectangle:
                            pos: self.pos
                            size: self.parent.width - 40, 2


                GridLayout:
                    id: text_in_grid
                    focus: False
                    cols: 1
                    spacing: 10
                    padding: 10
                    canvas.before:
                        Color:
                            rgba: (120/255, 13/255, 33/255, 1)
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos

                    GridLayout:
                        cols: 2
                        size_hint_y: 0.35
                        spacing: 20
                        GridLayout:
                            cols: 1
                            padding: [30, 0, 7, 7]
                            canvas.before:
                                Color:
                                    rgba: 0, 0, 0, 0.5
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                            Label:
                                text: 'Add Custom Field'
                                text_size: self.size
                                font_size: self.height * 0.4
                                halign: 'left'
                                valign: 'middle'

                            GridLayout:
                                cols: 2
                                spacing: 5
                                Label:
                                    text: 'custom-field-1'
                                    text_size: self.size
                                    font_size: self.height * 0.6
                                    halign: 'left'
                                    valign: 'middle'
                                TextInput:
                                    id: cx_field_1_name_text
                                    text: ''
                                    multiline: False
                                    font_size: self.height * 0.6
                                    on_text_validate:
                                        root.update_printer_info('cx_field_1', self.text)
                                        root.ids.cx_field_2_name_text.focus = True
                                Label:
                                    text: 'custom-field-2'
                                    text_size: self.size
                                    font_size: self.height * 0.6
                                    halign: 'left'
                                    valign: 'middle'
                                TextInput:
                                    id: cx_field_2_name_text
                                    text: ''
                                    multiline: False
                                    font_size: self.height * 0.6
                                    on_text_validate:
                                        root.update_printer_info('cx_field_2', self.text)
                                        root.ids.printer_select_button.focus = True

                        GridLayout:
                            cols: 1
#                            size_hint_x: 0.4
                            padding: [30, 7, 7, 7]
                            canvas.before:
                                Color:
                                    rgba: 0, 0, 0, 0.5
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                            Label:
                                text: 'Select Print Layout'
                                text_size: self.size
                                font_size: self.height * 0.4
                                halign: 'left'
                                valign: 'middle'
                            GridLayout:
                                cols: 1
                                Button:
                                    id: printer_select_button
                                    text: '- Select -'
                                    font_size: self.height * 0.6
                                Label:
                                    text: ''
                    GridLayout:
                        cols: 1
                        size_hint_y: 0.35
                        padding: [30, 0, 10, 10]
                        canvas.before:
                            Color:
                                rgba: 0, 0, 0, 0.5
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                        Label:
                            text: 'Footer Info'
                            text_size: self.size
                            font_size: self.height * 0.4
                            halign: 'left'
                            valign: 'middle'

                        TextInput:
                            id: company_footer_text
                            text: ''
                            multiline: False
                            font_size: self.height * 0.4
                            on_text_validate:
                                root.update_printer_info('footer_info', self.text)

                    Label:
                        text: ''


        Label:
            size_hint_y: 0.1
            font_size: self.height * 0.3
            font_name: 'nirmalab.ttf'
            text: "Weight cell User Interface"

<PrinterDropDown>:
    Button:
        text: 'Format-1'
        font_size: self.height * 0.4
        size_hint_y: None
        height: 44
        on_release: root.select('Format-1')
    Button:
        text: 'Format-2'
        font_size: self.height * 0.4
        size_hint_y: None
        height: 44
        on_release: root.select('Format-2')
    Button:
        text: 'Format-3'
        font_size: self.height * 0.4
        size_hint_y: None
        height: 44
        on_release: root.select('Format-3')
    Button:
        text: 'Format-4'
        font_size: self.height * 0.4
        size_hint_y: None
        height: 44
        on_release: root.select('Format-4')
